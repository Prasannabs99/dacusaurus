{
  "version": 3,
  "sources": ["../../../../../tinacms/dist/node-cache-7fa2452c.mjs"],
  "sourcesContent": ["const makeCacheDir = async (dir, fs) => {\n  const path = await import(\"./__vite-browser-external-d06ac358.mjs\");\n  const os = await import(\"./__vite-browser-external-d06ac358.mjs\");\n  const parts = dir.split(path.sep).filter(Boolean);\n  let cacheDir = dir;\n  if (!fs.existsSync(path.join(path.sep, parts[0]))) {\n    cacheDir = path.join(os.tmpdir(), parts[parts.length - 1]);\n  }\n  fs.mkdirSync(cacheDir, { recursive: true });\n  return cacheDir;\n};\nconst NodeCache = async (dir) => {\n  const fs = await import(\"./__vite-browser-external-d06ac358.mjs\");\n  const { createHash } = await import(\"./__vite-browser-external-d06ac358.mjs\");\n  const cacheDir = await makeCacheDir(dir, fs);\n  return {\n    makeKey: (key) => {\n      const input = key && key instanceof Object ? JSON.stringify(key) : key || \"\";\n      return createHash(\"sha256\").update(input).digest(\"hex\");\n    },\n    get: async (key) => {\n      try {\n        const data = await fs.promises.readFile(`${cacheDir}/${key}`, \"utf-8\");\n        return JSON.parse(data);\n      } catch (e) {\n        if (e.code === \"ENOENT\") {\n          return void 0;\n        }\n        throw e;\n      }\n    },\n    set: async (key, value) => {\n      await fs.promises.writeFile(\n        `${cacheDir}/${key}`,\n        JSON.stringify(value),\n        \"utf-8\"\n      );\n    }\n  };\n};\nexport {\n  NodeCache\n};\n"],
  "mappings": ";;;AAAA,IAAM,eAAe,OAAO,KAAK,OAAO;AACtC,QAAM,OAAO,MAAM,OAAO,gDAAwC;AAClE,QAAM,KAAK,MAAM,OAAO,gDAAwC;AAChE,QAAM,QAAQ,IAAI,MAAM,KAAK,GAAG,EAAE,OAAO,OAAO;AAChD,MAAI,WAAW;AACf,MAAI,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,KAAK,MAAM,CAAC,CAAC,CAAC,GAAG;AACjD,eAAW,KAAK,KAAK,GAAG,OAAO,GAAG,MAAM,MAAM,SAAS,CAAC,CAAC;AAAA,EAC3D;AACA,KAAG,UAAU,UAAU,EAAE,WAAW,KAAK,CAAC;AAC1C,SAAO;AACT;AACA,IAAM,YAAY,OAAO,QAAQ;AAC/B,QAAM,KAAK,MAAM,OAAO,gDAAwC;AAChE,QAAM,EAAE,WAAW,IAAI,MAAM,OAAO,gDAAwC;AAC5E,QAAM,WAAW,MAAM,aAAa,KAAK,EAAE;AAC3C,SAAO;AAAA,IACL,SAAS,CAAC,QAAQ;AAChB,YAAM,QAAQ,OAAO,eAAe,SAAS,KAAK,UAAU,GAAG,IAAI,OAAO;AAC1E,aAAO,WAAW,QAAQ,EAAE,OAAO,KAAK,EAAE,OAAO,KAAK;AAAA,IACxD;AAAA,IACA,KAAK,OAAO,QAAQ;AAClB,UAAI;AACF,cAAM,OAAO,MAAM,GAAG,SAAS,SAAS,GAAG,QAAQ,IAAI,GAAG,IAAI,OAAO;AACrE,eAAO,KAAK,MAAM,IAAI;AAAA,MACxB,SAAS,GAAG;AACV,YAAI,EAAE,SAAS,UAAU;AACvB,iBAAO;AAAA,QACT;AACA,cAAM;AAAA,MACR;AAAA,IACF;AAAA,IACA,KAAK,OAAO,KAAK,UAAU;AACzB,YAAM,GAAG,SAAS;AAAA,QAChB,GAAG,QAAQ,IAAI,GAAG;AAAA,QAClB,KAAK,UAAU,KAAK;AAAA,QACpB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;",
  "names": []
}
